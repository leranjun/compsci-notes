# 02 Control Systems

!!! note "Syllabus points"
    - 6.1.7 Outline OS resource management techniques: ... interrupt, polling
    - 7.1.1 Discuss a range of control systems
    - 7.1.2 Outline the uses of microprocessors and sensor input in control systems
    - 7.1.3 Evaluate different input devices for the collection of data in specific situations
    - 7.1.4 Explain the relationship between a sensor, the processor and an output transducer
    - 7.1.5 Describe the role of feedback in a control system
    - 7.1.6 Discuss the social impacts and ethical considerations associated with the use of embedded systems
    - 7.1.7 Compare a centrally controlled system with a distributed system
    - 7.1.8 Outline the role of autonomous agents acting within a larger system

## Control system

![Computer system diagram](https://i.imgur.com/r1MGZaz.jpg)

A control system is a type of computer system that **manages and directs** other devices or systems.

Control systems take an input, process this according to the rules of the system and cause an output, often using a motor or other actuator.

1. Measurement of the process variable (input)
2. Evaluation and comparison with the desired level (processing)
3. Control of the required level of the parameter involved (output)

## Key elements

### Transducer

A transducer is a device that converts signals in one form of energy into another (e.g. microphone - sound waves into electrical signals).

- Input physical, output electrical: sensor (+ ADC)
- Input electrical, output physical: actuator (+ DAC)

### Sensor

A sensor is an input device that continuously takes readings of the environment.

### Analogue-to-digital converter (ADC)

An ADC is a device that converts an analogue (continuous) signal into a digital (discrete, binary) signal.

- Collecting data: sampling
- Converting data to e.g. binary: quantisation

### Microprocessor

A microprocessor compares the input converted by the ADC to pre-defined/stored/preset values.

### Digital-to-analogue converter (DAC)

A DAC is a device that converts a digital signal into an analogue signal for an actuator.

### Actuator

An actuator is an output device that executes a physical action (e.g. fan, motor, pump, light) (*actua*lly does something).

## Benefits and limitations

### Benefits

- Consistency and accuracy in the positioning of moving parts of an equipment
- The more economic use of existing plants (by saving fuel/and or electrical energy)
- The release of skilled personnel for other productive work
- Reduction of physical effort with consequent reduction of fatigue and boredom
- Improved working conditions

### Limitations

- The initial cost is high
- Power fluctuations (causing unpredictable results)
- Lack of skilled personnel to monitor and maintain specialist equipment

### Social impact

- Loss of job (replaced by automated processes, robots, etc)
- Migration (need to move/travel further for employment)
- More free time (quality of life)

### Economic impact

- Improved profitability (reduced cost per unit)
- Improved, skilled workforce (creating an economic hub for other businesses to develop)
- Unfair advantages against less-developed nations

### Environmental impact

- Need for more raw materials (contributing to climate change)
- Increase in physical digital waste (disposal problems)

### Legal impact

- New technology/systems bring new legislation
- Laws in one country may be different to another

## Examples of control systems

|                  | Input (sensors)                                                   | Processing                                                                                                                | Output (actuators)                                                                                                                                                |
| ---------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Automatic doors  | Motion sensor, infrared light beam (light sensor), pressure pad   | If it detects something beyond the set parameters - something that isn’t usually there, a signal is sent to open the door | Door opens (door engines / motors) Motor opens/closes the door.                                                                                                   |
| Heating systems  | Temperature sensor, timer                                         | compare temperature input to the preset range.                                                                            | Switch on/off heater / refrigeration unit                                                                                                                         |
| Taxi meters      | Timer, odometer, sensor to measure rotation of axle               | Algorithm that converts distance/time to money                                                                            | Continuously displays increasing fare on screen                                                                                                                   |
| Elevators        | Motion sensor, pressure sensor,                                   | Counts holes in lift shaft to calculate where it is. Measures weight inside elevator                                      | Motor speed varies (slows as you approach required floor) door opens when you reach the floor, alarm goes off if overloaded, doors reopen if something in the way |
| Washing machines | Temperature sensor, pressure sensor, speed sensor, buttons        | Algorithm that measures how long and how much water the machine needs to wash the clothes in                              | Timer display, LEDs showing whether the machine is on or not                                                                                                      |
| Process control  | Pressure sensor, temperature sensor, switch, motion sensor, timer | Dependent on what is being processed                                                                                      | Motor, heater, robotic arm                                                                                                                                        |
| Device drivers   | No sensor input - data                                            |                                                                                                                           | Motor, print head/valve on nozzle, speaker                                                                                                                        |
| Domestic robots  | Pressure sensor, camera, infrared                                 | Depends on task                                                                                                           | Algorithm that determines how to process the data                                                                                                                 |
| GPS systems      | GPS receiver                                                      | Trilateration                                                                                                             | Display of location as co-ordinates or combined with other software to plot on map                                                                                |
| Traffic lights   | Induction loop in road                                            | Calculate how long traffic light needs to be on to allow all the cars to get through, combined with timer                 | Change in the colour of the lights in preset order…                                                                                                               |

## Open- and closed-loop systems

### Open-loop system

An open-loop system only repeats a task given a set input.

```mermaid
graph LR
A[Input] --> B[Processing]
B --> C[Output]
```

e.g. for a microwave:

```mermaid
graph LR
A[Time period] --> B[Heating]
B --> C[Temperature of food]
```

### Closed-loop system

A closed-loop system can take into account the output of the system and adjust the input accordingly.

```mermaid
graph LR
A[Desired output/setpoint/reference] --> B[Error]
B --> C[Controller]
C --> D[Actuator]
D --> E[Plant]
E --> F[Output]
E --> G[Sensor]
G --> B
```

The target is to minimise the error (difference between the desired output and the actual output).

- Disturbance: unwanted variation in the system (e.g. from the environment - icy roads in a car)
- Noise: measurement error from the technology used in the sensor

## Centralised and distributed systems

A centralised system is where all the processing is done in one place. This is often the case with embedded systems. The processing is done by a microprocessor, which is connected to the sensors and actuators.

A distributed system is where the processing is done in multiple places. This is often the case with networked systems. The processing is done by multiple microprocessors, which are connected to the sensors and actuators.
